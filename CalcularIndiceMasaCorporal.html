<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Indice Masa Corporal</title>
<script type="text/javascript">
//definimos la funcion
function Iniciar()
{
  function calculaIMC(peso, altura)
  {
  //declaramos las variables
  var imc, leyenda;
  this.peso = peso;
  this.altura = altura;
  //calculamos el imc
  imc=this.peso/(this.altura*this.altura);
 //enviamos el resultado a la caja correspondiente y lo reducimos a 2 decimales
 document.getElementById("imc").value=imc.toFixed(2);
 //mediante if comparamos el resultado para determinar si es correcto el peso
 if(imc<=20.5)
 {
 //determinamos el defecto en peso y definimos el comentario
 leyenda="Estas delgado. Debes engordar " + (this.altura*this.altura*20.5-this.peso).toFixed(1) + " kilos";
 }
 else if(imc>=25.5)
 {
 //determinamos el exceso en peso y definimos el comentario
 leyenda="Tienes sobrepeso. Debes adelgazar "+(this.peso-this.altura*this.altura*25.5).toFixed(1) +" kilos";
 }
 else
 {
 leyenda="Estas en tu peso ideal";
 }
 //enviamos el comentario a la caja correspondiente
 document.getElementById("leyenda").value=leyenda;
 }
 var peso, altura;
 //hacemos la llamada a los datos introducidos
 peso=document.getElementById("peso").value;
 altura=document.getElementById("altura").value/100;
 var nuevoCalculo = new calculaIMC(peso,altura);
}
</script>
</head>

<body>
<h2>CALCULO DEL PESO IMC (Indice de Masa Corporal)</h2>
<form name="f1" id="f1" action="">
<p>Peso en kg.:
<!--definimos una caja donde introducir el dato del peso-->
<input type="text" name="peso" id="peso" size="3" maxlength="4">
</p>
<p>Altura en cm.:
<!--definimos una caja donde introducir el dato de la altura-->
<input type="text" name="altura" id="altura" size="3" maxlength="3">
<!--definimos un boton que hara la llamada a la funcion para calcular el imc-->
<input type="button" value="Calcular IMC" onClick="Iniciar()">
</p>
<p> IMC:
<!--definimos una caja donde la funcion devolvera el valor de imc calculado-->
<input type="text" name="imc" id="imc" size="10" maxlength="15">
<br />Leyenda:
<!--definimos una caja donde la funcion escribira el comentario, definido en leyenda-->
<input type="text" name="leyenda" id="leyenda" size="42" style="border-style:none">
</p>
</form>
</body>
</html>
